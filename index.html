<!DOCTYPE html>
<html>
    <head>
        <title>Schmidlak's 34th Birthday 12-Hour Charity Stream</title>
        <meta charset="UTF-8" />

        <!-- social stuff for embeds (FB, twitter, etc.) -->
        <meta content="https://ctschmidlak.com/" property="og:url" />
        <meta
            content="Schmidlak's 34th Birthday 12-Hour Charity Stream"
            property="og:description"
        />
        <meta
            name="twitter:description"
            content="Schmidlak's 34th Birthday 12-Hour Charity Stream"
        />
        <meta
            name="twitter:image"
            content="https://ctschmidlak.com/assets/2024-charity-stream-social.jpg"
        />
        <meta
            property="og:image"
            content="https://ctschmidlak.com/assets/2024-charity-stream-social.jpg"
        />
        <meta name="twitter:card" content="summary_large_image" />

        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    </head>

    <!-- body-level padding and centering the content area -->
    <body class="p-2 flex justify-center w-full bg-[#ee533f]">
        <!-- content area (prose does width limiting) -->
        <div class="prose">
            <!-- title area -->
            <header class="text-center text-balance">
                <div class="p-2 bg-[#f6d466]">
                    <div class="mb-2 text-2xl uppercase">
                        Schmidlak's 34th Birthday
                    </div>
                    <div class="text-4xl">12-Hour Charity Stream</div>
                </div>
                <div class="mt-4 mb-4 bg-[#f6d466]">
                    <div>
                        Raising Money for the
                        <a href="https://www.alz.org/"
                            >Alzheimer's Association</a
                        >
                    </div>
                </div>
            </header>

            <!-- top video player (twitch) -->
            <div class="p-2 bg-[#f6d466]">
                <h1>Live stream</h1>
                <div id="twitch-embed" class="aspect-video"></div>
                <p>
                    The 12-hour stream starts on November 10, 2024 at 11am PST.
                </p>
            </div>

            <!-- stream progress -->
            <h2>Stream progress</h2>
            <p class="not-prose" id="time-status"></p>
            <progress
                id="time-progress"
                class="w-full bg-gray-200 h-4"
                value="0"
                max="100"
            ></progress>
            <div class="w-full flex justify-between not-prose mb-4">
                <p>Nov 10, '24 @ 11am PST</p>
                <p>Nov 10, '24 @ 11pm PST</p>
            </div>

            <!-- manual donation bar -->
            <h2>Donation progress</h2>
            <p class="not-prose" id="dono-status"></p>
            <progress
                id="dono-progress"
                class="w-full bg-gray-200 h-4"
                value="0"
                max="100"
            ></progress>
            <div class="w-full flex justify-between not-prose mb-4">
                <p>$0</p>
                <p>$900</p>
            </div>
            <a
                href="https://streamlabscharity.com/@schmidlak/2024-birthday-stream-for-alzheimers-awareness-and-research"
                target="_blank"
                class=""
            >
                <button
                    class="border-black border-2 p-2 hover:bg-black hover:text-white"
                >
                    Donate
                </button>
            </a>

            <h2>Why?</h2>
            <p>
                Alzheimer's is a type of dementia that affects memory, thinking,
                and behavior and accounts for 60-80% of dementia cases.
                Alzheimer's is a progressive disease, where symptoms gradually
                worsen over a number of years until individuals lose the ability
                to carry on a conversation and respond to their environment.
            </p>

            <!-- alzheimer's stats video (YouTube) -->
            <div class="my-12">
                <iframe
                    class="w-full aspect-video"
                    src="https://www.youtube.com/embed/Bwcsjpz_oUM?si=7cRH3ae33-fxSBhy&amp;controls=0"
                    title="YouTube video player"
                    frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                    referrerpolicy="strict-origin-when-cross-origin"
                    allowfullscreen
                ></iframe>
                <p class="text-sm font-bold">
                    Statistics about the prevalence of Alzheimer's Disease
                </p>
            </div>

            <p>
                Nearly 7 million Americans are currently living with Alzheimer’s
                and approximately 33% of seniors die with Alzheimer’s or another
                form of Dementia.
            </p>

            <p>
                Unfortunately, I am all too familiar with just how devastating
                this disease can be. My father was diagnosed with Alzheimer’s in
                2015, and passed away in 2022.
            </p>

            <div class="my-12">
                <img src="styles\images\charity\pops.jpg" />
                <p class="text-sm font-bold -mt-4">Pops & me ('94)</p>
            </div>

            <p>
                That is why, for my birthday, there would be no greater gift you
                could give me than joining me in making a donation to help lead
                the fight against Alzheimer’s Disease.
            </p>

            <p>
                The Alzheimer's Association leads the way to end Alzheimer's and
                all other dementia — by accelerating global research, driving
                risk reduction and early detection, and maximizing quality care
                and support.
            </p>

            <!-- alzheimer's assoc. about video (YouTube) -->
            <div class="my-12">
                <iframe
                    class="w-full aspect-video"
                    src="https://www.youtube.com/embed/8FRxGCXDGlY?si=YpJEGcULRCGGtgHy&amp;controls=0"
                    title="YouTube video player"
                    frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                    referrerpolicy="strict-origin-when-cross-origin"
                    allowfullscreen
                ></iframe>
                <p class="text-sm font-bold">
                    You can learn more about the Alzheimer’s Association and
                    their work at
                    <a href="https://alz.org/about" class="font-bold"
                        >alz.org/about</a
                    >
                </p>
            </div>

            <h2>What?</h2>
            <p>TBD.</p>

            <h2>When?</h2>
            <p>
                The charity live stream will begin at 11am PT on November 10th
                and will last around 12 hours. The window to donate opens on
                November 3rd and closes on November 17th, so please feel free to
                donate before or after the live stream.
            </p>

            <h2>Where?</h2>
            <p>
                The stream will go live on Twitch at
                <a href="https://twitch.tv/schmidlak">twitch.tv/schmidlak</a>
            </p>
            <p>
                If you miss the stream and want to watch the replay, you can
                find the stream archived on my YouTube channel at
                <a href="https://youtube.com/@CTSchmidlak">
                    youtube.com/@CTSchmidlak
                </a>
            </p>

            <h2>How?</h2>
            <p>
                The donation page is hosted by Streamlabs and can be found by
                <a
                    href="https://streamlabscharity.com/@schmidlak/2024-birthday-stream-for-alzheimers-awareness-and-research"
                    >clicking here.</a
                >
                Donations are processed by PayPal.
            </p>

            <p>
                Simply select a donation amount, provide your name and a comment
                (completely optional!) and an email address (required), then hit
                the “donate” button. If you donate during the stream, I will
                receive a live notification and will be sure to give you a shout
                out!
            </p>

            <!-- Debug zone. Enable to dump data here to check out. -->
            <!-- <h2>Debug Zone</h2> -->
            <!-- <pre id="fetch-results"></pre> -->
        </div>

        <!-- scripts go at the end of the body for faster page rendering -->

        <!-- Twitch embeds (https://dev.twitch.tv/docs/embed/everything/) -->
        <!-- Load the Twitch embed JavaScript file -->
        <script src="https://embed.twitch.tv/embed/v1.js"></script>

        <!-- Create a Twitch.Embed object that will render within the "twitch-embed" element -->
        <script type="text/javascript">
            new Twitch.Embed("twitch-embed", {
                // height and width are a bit confusing to set, but both 100%
                // seems to work well since we set the aspect ratio on the <div>
                // that will contain it
                width: "100%",
                height: "100%",
                channel: "schmidlak",
                layout: "video", // no chat
            });
        </script>

        <!-- Here we try to reach the streamlabs API to see if we can get your
        donation goal progress manually. "module" b/c we use `await` -->
        <script type="module">
            try {
                const url =
                    "https://streamlabscharity.com/api/v1/users/campaigns/schmidlak/2024-birthday-stream-for-alzheimers-awareness-and-research";
                const response = await fetch(url);
                console.log("Fetch response:", response);
                const data = await response.json();
                // debug view in debug zone
                // document.getElementById("fetch-results").textContent =
                //     JSON.stringify(data, null, 4);
                const raisedCents = data["amount_raised"];
                // const raisedCents = 10000; // uncomment to try experimental value
                const goalCents = data["goal"]["amount"]; // should be 90000 for $900
                const donoProgressEl = document.getElementById("dono-progress");
                donoProgressEl.setAttribute(
                    "value",
                    Math.min(100, (100 * raisedCents) / goalCents).toFixed(1)
                );
                const donoStatusEl = document.getElementById("dono-status");
                donoStatusEl.textContent = "$" + (raisedCents / 100).toFixed(2);
            } catch (error) {
                console.error(
                    "Error fetching and setting donation progress:",
                    error
                );
            }
        </script>
        <script type="module">
            // 1. Fixed time Nov 10 2024 11am PST
            const startTime = new Date("2024-11-10T11:00:00-08:00");
            // 2. Fixed time Nov 10 2024 11pm PST (add 12 hours)
            const endTime = new Date("2024-11-10T23:00:00-08:00");

            function updateTime() {
                // 3. Current time
                const now = new Date();
                const beforeStream = new Date("2024-11-10T09:00:00-08:00");
                const duringStream = new Date("2024-11-10T13:00:00-08:00");
                const afterStream = new Date("2024-11-10T23:30:00-08:00");
                const currentTime = now; // pick different ones here to test

                // Calculate progress (0-1)
                const progress = Math.max(
                    0,
                    Math.min(
                        1,
                        (currentTime - startTime) / (endTime - startTime)
                    )
                );

                // Scale to percentage (0-100)
                const percentProgress = (progress * 100).toFixed(1);

                // Boolean indicators
                const hasntStartedYet = currentTime < startTime;
                const hasEnded = currentTime > endTime;

                // Human readable countdown string
                let countdownString = "";
                if (hasntStartedYet) {
                    const diff = startTime - currentTime;
                    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                    const hours = Math.floor(
                        (diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
                    );
                    const minutes = Math.floor(
                        (diff % (1000 * 60 * 60)) / (1000 * 60)
                    );
                    const seconds = Math.floor((diff % (1000 * 60)) / 1000);

                    const parts = [];
                    if (days > 0) {
                        parts.push(`${days} ${days > 1 ? "days" : "day"}`);
                    }
                    if (hours > 0) {
                        parts.push(`${hours} ${hours > 1 ? "hours" : "hour"}`);
                    }
                    if (minutes > 0) {
                        parts.push(
                            `${minutes} ${minutes > 1 ? "minutes" : "minute"}`
                        );
                    }
                    if (seconds > 0) {
                        parts.push(
                            `${seconds} ${seconds > 1 ? "seconds" : "second"}`
                        );
                    }

                    countdownString = `Starts in ${parts.join(" ")}`;
                    document.getElementById("time-status").textContent =
                        countdownString;
                }

                // Current hour string (1-12)
                if (!hasntStartedYet && !hasEnded) {
                    let currentHourString = "";
                    const hoursPassed = Math.ceil(progress * 12);
                    currentHourString = `LIVE - Hour ${hoursPassed}/12`;
                    document.getElementById("time-status").textContent =
                        currentHourString;
                }

                if (hasEnded) {
                    document.getElementById("time-status").textContent =
                        "Thanks for tuning in!";
                }

                const donoEl = document.getElementById("time-progress");
                donoEl.setAttribute("value", percentProgress);

                // uncomment to debug
                // console.log("Progress (0-1):", progress);
                // console.log("Progress (0-100):", percentProgress);
                // console.log("Hasn't started yet:", hasntStartedYet);
                // console.log("Has ended:", hasEnded);
            }

            // call it once, then every second
            updateTime();
            setInterval(updateTime, 1000);
        </script>
    </body>
</html>
